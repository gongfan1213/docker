# docker

### 目录

**第 1 章 容器技术的发展**

1.1 什么是容器……1

1.2 为什么需要容器……1

1.3 容器技术的发展历程……3

1.4 容器的优缺点……5

1.4.1 容器的优点……6

1.4.2 容器的缺点……6

1.5 Docker 容器是如何工作的……7


**第 2 章 Docker 简介**

2.1 什么是 Docker……11

2.2 Docker 的由来与发展历程……12

2.3 Docker 的架构与组成……13

2.3.1 Docker 的架构……13

2.3.2 Docker 中应用系统的存在形式……15

2.4 Docker 容器生态系统……15

2.4.1 容器核心技术……15

2.4.2 容器平台技术……16

2.4.3 容器支持技术……17

2.5 为什么使用 Docker……18

2.5.1 Docker 的应用场景……18

2.5.2 Docker 可以解决哪些问题……19

2.5.3 Docker 的应用成本……19



**第 3 章 Docker 的安装与使用**

3.1 在 Windows 中安装 Docker……20

3.1.1 安装 WSL 2……20

3.1.2 安装 Docker Desktop for Windows……22

3.2 在 Ubuntu 中安装 Docker……24

3.2.1 安装 Docker……24

3.2.2 运行 Docker……26

3.2.3 使用 docker 命令……27

3.2.4 使用 Docker 镜像……28

3.3 在 Mac OS 中安装 Docker……30

3.3.1 使用 Homebrew 安装……30

3.3.2 手动下载安装……31



**第 4 章 操作容器**

4.1 容器的生命周期……33

4.2 创建容器……34

4.3 管理容器……36

4.4 启动与终止……37

4.5 进入容器……38

4.6 导出和导入……38



**第 5 章 Docker 引擎**

5.1 Docker 引擎简介……40

5.2 Docker 引擎的组件构成……40

5.2.1 runc……42

5.2.2 containerd……42



**第 6 章 Docker 镜像**

6.1 镜像构成……44

6.2 获取镜像……44

6.3 列出镜像……45

6.4 删除本地镜像……46

6.5 定制镜像……47

6.5.1 使用 docker commit 命令定制镜像……48

6.5.2 使用 docker build 命令+Dockerfile 文件定制镜像……50



**第 7 章 Docker 容器**

7.1 Docker 容器简介……52

7.2 资源限制……52

7.2.1 内存资源限制……52

7.2.2 容器的内存限制……53

7.2.3 容器的 CPU 限制……53

7.3 容器的底层技术……56

7.3.1 Cgroup……61

7.3.2 Namespace……62

7.3.3 联合文件系统（AUFS）……64

7.3.4 LXC……64



**第 8 章 应用的容器化**

8.1 应用容器化简介……65

8.2 单体应用容器化……66

8.3 生成环境中的多阶段构建……69

8.4 常用的命令……71



**第 9 章 Docker 网络模式**

9.1 Docker 网络模式简介……73

9.2 bridge 网络模式……74

9.3 host 网络模式……77

9.4 none 网络模式……78

9.5 container 网络模式……78

9.6 user-defined 网络模式……79
9.6.1 创建自定义的 bridge 网络……79

9.6.2 使用自定义网络……81

9.7 高级网络配置……82



**第 10 章 Docker 存储**

10.1 Docker 存储简介……

10.2 storage driver……

10.3 data volume……

10.3.1 volume……

10.3.2 bind mount……
10.3.3 tmpfs mount……



**第 11 章 日志管理**

11.1 查看引擎日志……

11.2 查看容器日志……

11.3 清理容器日志……

11.4 日志驱动程序……

11.4.1 日志驱动程序概述……

11.4.2 local 日志驱动……

11.4.3 json - file 日志驱动……

11.4.4 syslog 日志驱动……

11.4.5 日志驱动的选择……



**第 12 章 Docker Compose**

12.1 Docker Compose 简介……104

12.2 安装 Docker Compose……104

12.3 模板文件语法……105

12.3.1 docker-compose.yml 语法说明……106

12.3.2 YAML 文件格式及编写注意事项……106

12.3.3 Docker Compose 常用命令……114

12.3.4 Docker Compose 常用命令汇总清单……115

12.4 使用 Docker Compose 构建 Web 应用……120



**第 13 章 Docker Swarm**

13.1 Docker Swarm 架构与概念……124

13.1.1 Docker Swarm 架构……124

13.1.2 Docker Swarm 相关概念……125

13.1.3 Docker Swarm 的特点……126

13.1.4 Docker Swarm 的工作流……127

13.2 部署 Swarm 集群……128

13.2.1 准备工作……128

13.2.2 创建集群……129

13.2.3 加入集群……129

13.2.4 查看集群节点信息……130

13.2.5 删除节点……131

13.2.6 创建服务……133

13.2.7 弹性扩缩容……134

13.3 Docker Swarm 调度策略……134


13.4 滚动升级……134

13.5 Docker Swarm 常用指令……136



**第 14 章 Docker 实战应用**

14.1 Web 应用概要……138

14.2 创建 Web 应用……139

14.3 构建 Web 镜像……141

14.4 创建接口服务……145

14.5 构建 Server 镜像……146

14.6 跨域转发请求……148

14.7 部署 MySQL……156



**第 15 章 通过 Docker Desktop 使用 Kubernetes**

15.1 Kubernetes 基本概念……165

15.1.1 Cluster……166

15.1.2 Pod……167

15.1.3 Node……168

15.1.4 Namespace……168

15.1.5 Service……168

15.1.6 Label……169

15.2 Kubernetes 架构设计简介……169

15.3 Kubernetes 使用示例……171

15.3.1 启用 Kubernetes……171

15.3.2 使用 Kubernetes……172

15.3.3 创建 MySQL……173

15.3.4 使用命名空间部署 MySQL……176 
